import{a as u}from"./chunk-BAS37QDM.js";import{c as n}from"./chunk-3EMMKFRG.js";import{U as o,Y as a,ba as h}from"./chunk-KOYV7H7M.js";var c=(()=>{let r=class r{constructor(t,e){this.http=t,this.headers=e,this.url="http://127.0.0.1:8000/api/"}login(t){return this.http.post(this.url+"login/circulation",t).pipe(o(e=>{if(e.token){sessionStorage.setItem("auth-token",e.token),sessionStorage.setItem("name",e.displayName),sessionStorage.setItem("role",e.position);let i=new Date;i.setMinutes(i.getMinutes()+55),sessionStorage.setItem("request-token",i.toISOString())}}))}user(){return this.http.get(this.url+"user",{headers:this.headers.get()})}refresh(){return this.http.post(this.url+"refresh",{},{headers:this.headers.get()})}logout(){return this.http.post(this.url+"logout",{},{headers:this.headers.get()})}getUsers(){return this.http.get(this.url+"circulation/userlist",{headers:this.headers.get()})}getBorrowList(){return this.http.get(this.url+"circulation/borrow-list",{headers:this.headers.get()})}getReserveList(){return this.http.get(this.url+"circulation/reservelist",{headers:this.headers.get()})}getOnlineList(){return this.http.get(this.url+"reservation-list/online",{headers:this.headers.get()})}getBorrowersReport(t){return this.http.get(this.url+"circulation/report",{headers:this.headers.get(),params:t})}topBorrowers(t){return this.http.get(this.url+"circulation/topborrowers",{headers:this.headers.get(),params:t})}mostBorrowedBook(t){return this.http.get(this.url+"circulation/mostborrowed",{headers:this.headers.get(),params:t})}getReturned(){return this.http.get(this.url+"circulation/returned-list",{headers:this.headers.get()})}getqueue(){return this.http.get(this.url+"queue",{headers:this.headers.get()})}};r.\u0275fac=function(e){return new(e||r)(h(n),h(u))},r.\u0275prov=a({token:r,factory:r.\u0275fac,providedIn:"root"});let s=r;return s})();export{c as a};
